scale_color_manual(values = pal)+
ylab(ylab)+
xlab("Day of year")+
facet_grid(var~scen,scales="free_y")+
labs(title ="Bering Sea Climate projections",
subtitle = "",
caption = strwrap (" Projections: ACLIM2 |Operational hindcasts: AK IEA | Model: Bering10K 30-layer",width = 150))+
theme_kir_EBM()+theme_minimal()+ theme(legend.position="bottom") #+xlim(0,364)
pp
#     return(pp)
# }
sclr <-1.2
png("ESR_EBS/Figs/annualTS.png",
width =6*sclr, height =6*sclr, units = "in",res = 150)
print( pp)  # hypoxic (O2<70mmol m−3) or suboxic (O2<5mmol m−3),
dev.off()
#'
#'
#'
#'
#'
#' plot_weekly
#' #'
#' # plot_weekly <- function(dat      = dat,
#' #                         dat_hind = dat_hind,
#'                         allyears = allyears
#'                         hindyrs  = hindyrs
#'                         futyrs   = futyrs
#'                         # scensIN    = scens,
#'                         # GCMsIN     = GCMs,
#'                         # varIN      = plot_vars[3],
#'                         basinIN    = "SEBS"#){
#'
thinline     <- 0.9
alpha_annual <- 0.8
pal <- colorRampPalette(RColorBrewer::brewer.pal(9,"Spectral")[5:9])
pal <- pal(length(allyears))
#pal[allyears<2005] <- RColorBrewer::brewer.pal(9,"Greys")[3]
pal_sub   <- pal[which(allyears%in%subyear)]
#RColorBrewer::display.brewer.all()
gg <- viridis::viridis(7)[2]
pal  <- RColorBrewer::brewer.pal(9,"Spectral")[c(7,1,8,2,9,3)]
palg <- rep(gg,length(pal))
# test<-dat_s%>%mutate(bc_mn_val = biascorrect(B = mn_val,
#             mnA = mnVal_hind,
#             sdA = sdVal_hind,
#             sdB = sdVal_hist,
#             mnB = mnVal_hist))
#alpha_annual <- .4
varIN     <- "temp_bottom5m"
varIN     <- "pH_bottom5m"
ylab      <- unique(dat%>%filter(var%in%varIN)%>%select(units ))
sub_title <- unique(dat%>%filter(var%in%varIN)%>%select(var ))
seasonIN  <- c("Fall","Spring", "Summer", "Winter")
fut <- dat_s%>% filter(scen%in%scensIN,
season_var%in%season_varIN)
hind <- dat_mn_s_hind%>% filter(scen%in%scensIN,
season_var%in%season_varIN)
pp<- ggplot()+
geom_line(data=hind,
aes(x=year,y=mn_val, color=gcmscen,linetype=basin),
alpha=alpha_annual*.5,size=thinline, show.legend = FALSE)+
scale_color_manual(values = palg)+
guides(color = "none", size = "none")+
new_scale_color()+
# geom_smooth(data=fut,formula = "y~x",
#             aes(x=year,y=val_biascorrected, fill = scen)
#             ,alpha = .4, method = "loess")+
# guides(color = "none", size = "none")+
# new_scale_color()+
geom_line(data=fut,
aes(x=year,y=val_biascorrected,color=gcmscen,linetype=basin),
alpha=alpha_annual,size=thinline, show.legend = TRUE)+
#
# geom_line(data=fut,
#           aes(x=year,y=mnVal_hind,linetype=basin),color=gg,
#           alpha=alpha_annual,size=thinline, show.legend = FALSE)+
# geom_line(data=fut,
#           aes(x=year,y=mnVal_hind+sdVal_hind,linetype=basin),color=gg,
#           alpha=alpha_annual,size=thinline*.9, show.legend = FALSE)+
# geom_line(data=fut,
#           aes(x=year,y=mnVal_hind-sdVal_hind,linetype=basin),color=gg,
#           alpha=alpha_annual,size=thinline*.9, show.legend = FALSE)+
#
scale_color_manual(values = pal)+
ylab(ylab)+
xlab("Day of year")+
facet_grid(var~scen,scales="free_y")+
labs(title ="Bering Sea Climate projections",
subtitle = "",
caption = strwrap (" Projections: ACLIM2 |Operational hindcasts: AK IEA | Model: Bering10K 30-layer",width = 150))+
theme_kir_EBM()+theme_minimal()+ theme(legend.position="bottom") #+xlim(0,364)
pp
#     return(pp)
# }
sclr <-1.2
png("ESR_EBS/Figs/annualTS.png",
width =6*sclr, height =6*sclr, units = "in",res = 150)
print( pp)  # hypoxic (O2<70mmol m−3) or suboxic (O2<5mmol m−3),
dev.off()
#'
#'
#'
#'
#'
#' plot_weekly
#' #'
#' # plot_weekly <- function(dat      = dat,
#' #                         dat_hind = dat_hind,
#'                         allyears = allyears
#'                         hindyrs  = hindyrs
#'                         futyrs   = futyrs
#'                         # scensIN    = scens,
#'                         # GCMsIN     = GCMs,
#'                         # varIN      = plot_vars[3],
#'                         basinIN    = "SEBS"#){
#'
thinline     <- 0.8
alpha_annual <- 0.8
pal <- colorRampPalette(RColorBrewer::brewer.pal(9,"Spectral")[5:9])
pal <- pal(length(allyears))
#pal[allyears<2005] <- RColorBrewer::brewer.pal(9,"Greys")[3]
pal_sub   <- pal[which(allyears%in%subyear)]
#RColorBrewer::display.brewer.all()
gg <- viridis::viridis(7)[2]
pal  <- RColorBrewer::brewer.pal(9,"Spectral")[c(7,1,8,2,9,3)]
palg <- rep(gg,length(pal))
# test<-dat_s%>%mutate(bc_mn_val = biascorrect(B = mn_val,
#             mnA = mnVal_hind,
#             sdA = sdVal_hind,
#             sdB = sdVal_hist,
#             mnB = mnVal_hist))
#alpha_annual <- .4
varIN     <- "temp_bottom5m"
varIN     <- "pH_bottom5m"
ylab      <- unique(dat%>%filter(var%in%varIN)%>%select(units ))
sub_title <- unique(dat%>%filter(var%in%varIN)%>%select(var ))
seasonIN  <- c("Fall","Spring", "Summer", "Winter")
fut <- dat_s%>% filter(scen%in%scensIN,
season_var%in%season_varIN)
hind <- dat_mn_s_hind%>% filter(scen%in%scensIN,
season_var%in%season_varIN)
pp<- ggplot()+
geom_line(data=hind,
aes(x=year,y=mn_val, color=gcmscen,linetype=basin),
alpha=alpha_annual*.5,size=thinline, show.legend = FALSE)+
scale_color_manual(values = palg)+
guides(color = "none", size = "none")+
new_scale_color()+
# geom_smooth(data=fut,formula = "y~x",
#             aes(x=year,y=val_biascorrected, fill = scen)
#             ,alpha = .4, method = "loess")+
# guides(color = "none", size = "none")+
# new_scale_color()+
geom_line(data=fut,
aes(x=year,y=val_biascorrected,color=gcmscen,linetype=basin),
alpha=alpha_annual,size=thinline, show.legend = TRUE)+
#
# geom_line(data=fut,
#           aes(x=year,y=mnVal_hind,linetype=basin),color=gg,
#           alpha=alpha_annual,size=thinline, show.legend = FALSE)+
# geom_line(data=fut,
#           aes(x=year,y=mnVal_hind+sdVal_hind,linetype=basin),color=gg,
#           alpha=alpha_annual,size=thinline*.9, show.legend = FALSE)+
# geom_line(data=fut,
#           aes(x=year,y=mnVal_hind-sdVal_hind,linetype=basin),color=gg,
#           alpha=alpha_annual,size=thinline*.9, show.legend = FALSE)+
#
scale_color_manual(values = pal)+
ylab(ylab)+
xlab("Day of year")+
facet_grid(var~scen,scales="free_y")+
labs(title ="Bering Sea Climate projections",
subtitle = "",
caption = strwrap (" Projections: ACLIM2 |Operational hindcasts: AK IEA | Model: Bering10K 30-layer",width = 150))+
theme_kir_EBM()+theme_minimal()+ theme(legend.position="bottom") #+xlim(0,364)
pp
#     return(pp)
# }
sclr <-1.2
png("ESR_EBS/Figs/annualTS.png",
width =6*sclr, height =6*sclr, units = "in",res = 150)
print( pp)  # hypoxic (O2<70mmol m−3) or suboxic (O2<5mmol m−3),
dev.off()
#'
#'
#'
#'
#'
#' plot_weekly
#' #'
#' # plot_weekly <- function(dat      = dat,
#' #                         dat_hind = dat_hind,
#'                         allyears = allyears
#'                         hindyrs  = hindyrs
#'                         futyrs   = futyrs
#'                         # scensIN    = scens,
#'                         # GCMsIN     = GCMs,
#'                         # varIN      = plot_vars[3],
#'                         basinIN    = "SEBS"#){
#'
thinline     <- 0.8
alpha_annual <- 0.8
pal <- colorRampPalette(RColorBrewer::brewer.pal(9,"Spectral")[5:9])
pal <- pal(length(allyears))
#pal[allyears<2005] <- RColorBrewer::brewer.pal(9,"Greys")[3]
pal_sub   <- pal[which(allyears%in%subyear)]
#RColorBrewer::display.brewer.all()
gg <- viridis::viridis(7)[2]
pal  <- RColorBrewer::brewer.pal(9,"Spectral")[c(7,1,8,2,9,3)]
palg <- rep(gg,length(pal))
# test<-dat_s%>%mutate(bc_mn_val = biascorrect(B = mn_val,
#             mnA = mnVal_hind,
#             sdA = sdVal_hind,
#             sdB = sdVal_hist,
#             mnB = mnVal_hist))
#alpha_annual <- .4
varIN     <- "temp_bottom5m"
varIN     <- "pH_bottom5m"
ylab      <- unique(dat%>%filter(var%in%varIN)%>%select(units ))
sub_title <- unique(dat%>%filter(var%in%varIN)%>%select(var ))
seasonIN  <- c("Fall","Spring", "Summer", "Winter")
fut <- dat_s%>% filter(scen%in%scensIN,basin = basinIN,
season_var%in%season_varIN)
hind <- dat_mn_s_hind%>% filter(scen%in%scensIN,basin = basinIN,
season_var%in%season_varIN)
pp<- ggplot()+
geom_line(data=hind,
aes(x=year,y=mn_val, color=gcmscen,linetype=basin),
alpha=alpha_annual*.5,size=thinline, show.legend = FALSE)+
scale_color_manual(values = palg)+
guides(color = "none", size = "none")+
new_scale_color()+
# geom_smooth(data=fut,formula = "y~x",
#             aes(x=year,y=val_biascorrected, fill = scen)
#             ,alpha = .4, method = "loess")+
# guides(color = "none", size = "none")+
# new_scale_color()+
geom_line(data=fut,
aes(x=year,y=val_biascorrected,color=gcmscen,linetype=basin),
alpha=alpha_annual,size=thinline, show.legend = TRUE)+
#
# geom_line(data=fut,
#           aes(x=year,y=mnVal_hind,linetype=basin),color=gg,
#           alpha=alpha_annual,size=thinline, show.legend = FALSE)+
# geom_line(data=fut,
#           aes(x=year,y=mnVal_hind+sdVal_hind,linetype=basin),color=gg,
#           alpha=alpha_annual,size=thinline*.9, show.legend = FALSE)+
# geom_line(data=fut,
#           aes(x=year,y=mnVal_hind-sdVal_hind,linetype=basin),color=gg,
#           alpha=alpha_annual,size=thinline*.9, show.legend = FALSE)+
#
scale_color_manual(values = pal)+
ylab(ylab)+
xlab("Day of year")+
facet_grid(var~scen,scales="free_y")+
labs(title = paste(basinIN, "Climate projections"),
subtitle = "",
caption = strwrap (" Projections: ACLIM2 |Operational hindcasts: AK IEA | Model: Bering10K 30-layer",width = 150))+
theme_kir_EBM()+theme_minimal()+ theme(legend.position="bottom") #+xlim(0,364)
pp
#     return(pp)
# }
sclr <-1.2
png("ESR_EBS/Figs/annualTS.png",
width =6*sclr, height =6*sclr, units = "in",res = 150)
print( pp)  # hypoxic (O2<70mmol m−3) or suboxic (O2<5mmol m−3),
dev.off()
source("D:/GitHub_cloud/ACLIM2/R/sub_scripts/plot_annual.R", encoding = 'UTF-8')
source("D:/GitHub_cloud/ACLIM2/R/sub_scripts/plot_annual.R", encoding = 'UTF-8')
basinIN <- "NEBS"
source("D:/GitHub_cloud/ACLIM2/R/sub_scripts/plot_annual.R"
basinIN <- "SEBS"
source("D:/GitHub_cloud/ACLIM2/R/sub_scripts/plot_annual.R"
basinIN <- "NEBS"
source("D:/GitHub_cloud/ACLIM2/R/sub_scripts/plot_annual.R")
basinIN <- "SEBS"
source("D:/GitHub_cloud/ACLIM2/R/sub_scripts/plot_annual.R")
``
basinIN <- "NEBS"
source("D:/GitHub_cloud/ACLIM2/R/sub_scripts/plot_annual.R")
basinIN <- "SEBS"
source("D:/GitHub_cloud/ACLIM2/R/sub_scripts/plot_annual.R")
#'
#'
#'
#'
#'
#' plot_weekly
#' #'
#' # plot_weekly <- function(dat      = dat,
#' #                         dat_hind = dat_hind,
#'                         allyears = allyears
#'                         hindyrs  = hindyrs
#'                         futyrs   = futyrs
#'                         # scensIN    = scens,
#'                         # GCMsIN     = GCMs,
#'                         # varIN      = plot_vars[3],
#'                         basinIN    = "SEBS"#){
#'
thinline     <- 0.8
alpha_annual <- 0.8
pal <- colorRampPalette(RColorBrewer::brewer.pal(9,"Spectral")[5:9])
pal <- pal(length(allyears))
#pal[allyears<2005] <- RColorBrewer::brewer.pal(9,"Greys")[3]
pal_sub   <- pal[which(allyears%in%subyear)]
#RColorBrewer::display.brewer.all()
gg <- viridis::viridis(7)[2]
pal  <- RColorBrewer::brewer.pal(9,"Spectral")[c(7,1,8,2,9,3)]
palg <- rep(gg,length(pal))
# test<-dat_s%>%mutate(bc_mn_val = biascorrect(B = mn_val,
#             mnA = mnVal_hind,
#             sdA = sdVal_hind,
#             sdB = sdVal_hist,
#             mnB = mnVal_hist))
#alpha_annual <- .4
varIN     <- "temp_bottom5m"
varIN     <- "pH_bottom5m"
ylab      <- unique(dat%>%filter(var%in%varIN)%>%select(units ))
sub_title <- unique(dat%>%filter(var%in%varIN)%>%select(var ))
seasonIN  <- c("Fall","Spring", "Summer", "Winter")
fut <- dat_s%>% filter(scen%in%scensIN,basin == basinIN,
season_var%in%season_varIN)
hind <- dat_mn_s_hind%>% filter(scen%in%scensIN,basin == basinIN,
season_var%in%season_varIN)
pp<- ggplot()+
geom_line(data=hind,
aes(x=year,y=mn_val, color=gcmscen,linetype=basin),
alpha=alpha_annual*.5,size=thinline, show.legend = FALSE)+
scale_color_manual(values = palg)+
guides(color = "none", size = "none")+
new_scale_color()+
# geom_smooth(data=fut,formula = "y~x",
#             aes(x=year,y=val_biascorrected, fill = scen)
#             ,alpha = .4, method = "loess")+
# guides(color = "none", size = "none")+
# new_scale_color()+
geom_line(data=fut,
aes(x=year,y=val_biascorrected,color=gcmscen,linetype=basin),
alpha=alpha_annual,size=thinline, show.legend = TRUE)+
#
# geom_line(data=fut,
#           aes(x=year,y=mnVal_hind,linetype=basin),color=gg,
#           alpha=alpha_annual,size=thinline, show.legend = FALSE)+
# geom_line(data=fut,
#           aes(x=year,y=mnVal_hind+sdVal_hind,linetype=basin),color=gg,
#           alpha=alpha_annual,size=thinline*.9, show.legend = FALSE)+
# geom_line(data=fut,
#           aes(x=year,y=mnVal_hind-sdVal_hind,linetype=basin),color=gg,
#           alpha=alpha_annual,size=thinline*.9, show.legend = FALSE)+
#
scale_color_manual(values = pal)+
ylab(ylab)+
xlab("Day of year")+
facet_grid(var~scen,scales="free_y")+
labs(title = paste(basinIN, "Climate projections"),
subtitle = "",
caption = strwrap (" Projections: ACLIM2 |Operational hindcasts: AK IEA | Model: Bering10K 30-layer",width = 150))+
theme_kir_EBM()+theme_minimal()+ theme(legend.position="bottom") #+xlim(0,364)
pp
#     return(pp)
# }
sclr <-1.2
png("ESR_EBS/Figs/annualTS.png",
width =6*sclr, height =6*sclr, units = "in",res = 150)
print( pp)  # hypoxic (O2<70mmol m−3) or suboxic (O2<5mmol m−3),
dev.off()
basinIN <- "NEBS"
source("D:/GitHub_cloud/ACLIM2/R/sub_scripts/plot_annual.R")
basinIN <- "SEBS"
source("D:/GitHub_cloud/ACLIM2/R/sub_scripts/plot_annual.R")
source("D:/GitHub_cloud/ACLIM2/R/sub_scripts/plot_weekly.R")
pp
basinIN <- "NEBS"
source("D:/GitHub_cloud/ACLIM2/R/sub_scripts/plot_annualNEBS.R")
basinIN <- "SEBS"
source("D:/GitHub_cloud/ACLIM2/R/sub_scripts/plot_annualSEBS.R")
NEBS_strata
paste(NEBS_strata,collapse=", )
paste(NEBS_strata,collapse=", ")
Seasons
seasons
seasons%>%filter(season=="Summer')%>%select(mo)
)
seasons%>%filter(season=="Summer")%>%select(mo)
as.numeric(seasons%>%filter(season=="Summer")%>%select(mo))
paste(seasons%>%filter(season=="Summer")%>%select(mo),collapse=", ")
paste(seasons%>%filter(season=="Summer")%>%select(mo),collapse=", ")
fut%>%filter(year>2080)%>%group_by(scen,basin,mn_val, var)%>%summarize(mn = mean(mn_val))
fut%>%upgroup()%>%filter(year>2080)%>%group_by(scen,basin,mn_val, var)%>%summarize(mn = mean(mn_val))
fut%>%ungroup()%>%filter(year>2080)%>%group_by(scen,basin,mn_val, var)%>%summarize(mn = mean(mn_val))
fut%>%ungroup()%>%filter(year>2080)%>%group_by(scen,basin, var)%>%summarize(mn = mean(mn_val))
endofCent<-fut%>%ungroup()%>%filter(year>2079)%>%group_by(scen,basin, var)%>%summarize(mn = mean(mn_val))
midCent<-fut%>%ungroup()%>%filter(year>2039&year<2061)%>%group_by(scen,basin, var)%>%summarize(mn = mean(mn_val))
endofCent<-fut%>%ungroup()%>%filter(year>2079)%>%group_by(scen,basin, var)%>%
summarize(mn = mean(mn_val), min =mean(mn_val),max=max(mn_val), sd = sd(mn_val) )
midCent<-fut%>%ungroup()%>%filter(year>2039&year<2061)%>%group_by(scen,basin, var)%>%
summarize(mn = mean(mn_val), min =mean(mn_val),max=max(mn_val), sd = sd(mn_val) )
endofCent
endofCent<-fut%>%ungroup()%>%filter(year>2079)%>%group_by(scen,basin, var)%>%
summarize(mn = mean(mn_val), min =mean(mn_val),max=max(mn_val), sd = sd(mn_val), hind = mean(mnVal_hind) )
midCent<-fut%>%ungroup()%>%filter(year>2039&year<2061)%>%group_by(scen,basin, var)%>%
summarize(mn = mean(mn_val), min =mean(mn_val),max=max(mn_val), sd = sd(mn_val), hind = mean(mnVal_hind) )
endofCent
endofCent$max-endofCent$hind
round(endofCent$max-endofCent$hind)
round(endofCent$max-endofCent$hind)
endofCent%>%filter(var=="temp_bottom5m")%>%mutate(delta = max-hind)%>%select(delta)
delta2100<-fut%>%ungroup()%>%filter(year>2079)%>%group_by(scen,basin, var)%>%
summarize(mn = mean(mn_val)-mean(mnVal_hind) ,
min =mean(mn_val)-mean(mnVal_hind) ,
max=max(mn_val)-mean(mnVal_hind) ,
sd = sd(mn_val)-mean(mnVal_hind) ,
hind = mean(mnVal_hind)-mean(mnVal_hind)  )
delta2050<-fut%>%ungroup()%>%filter(year>2039&year<2061)%>%group_by(scen,basin, var)%>%
summarize(mn = mean(mn_val)-mean(mnVal_hind) ,
min =mean(mn_val)-mean(mnVal_hind) ,
max=max(mn_val)-mean(mnVal_hind) ,
sd = sd(mn_val)-mean(mnVal_hind) ,
hind = mean(mnVal_hind)-mean(mnVal_hind)  )
delta2100
dir()
dir("ESR_EBS")
endofCent<-fut%>%ungroup()%>%filter(year>2079)%>%group_by(scen,basin, var)%>%
summarize(mn = mean(mn_val), min =mean(mn_val),max=max(mn_val), sd = sd(mn_val),)
midCent<-fut%>%ungroup()%>%filter(year>2039&year<2061)%>%group_by(scen,basin, var)%>%
summarize(mn = mean(mn_val), min =mean(mn_val),max=max(mn_val), sd = sd(mn_val), hind = mean(mnVal_hind) )
save(endofCent,"ESR_EBS/endofCent.Rdata")
save(midCent,"ESR_EBS/midCent.Rdata")
save(endofCent,file="ESR_EBS/endofCent.Rdata")
save(midCent,file="ESR_EBS/midCent.Rdata")
endofCent<-fut%>%ungroup()%>%filter(year>2079)%>%group_by(scen,basin, var)%>%
summarize(mn = mean(mn_val), min =mean(mn_val),max=max(mn_val), sd = sd(mn_val),)
midCent<-fut%>%ungroup()%>%filter(year>2039&year<2061)%>%group_by(scen,basin, var)%>%
summarize(mn = mean(mn_val), min =mean(mn_val),max=max(mn_val), sd = sd(mn_val), hind = mean(mnVal_hind) )
save(endofCent,file="ESR_EBS/endofCent.Rdata")
save(midCent,file="ESR_EBS/midCent.Rdata")
endofCent
endofCent[c(2,4),]
endofCent<-fut%>%ungroup()%>%filter(year>2079)%>%group_by(scen,basin, var)%>%
summarize(mn = mean(mn_val), min =mean(mn_val),max=max(mn_val), sd = sd(mn_val), hind = mean(mnVal_hind) )
midCent<-fut%>%ungroup()%>%filter(year>2039&year<2061)%>%group_by(scen,basin, var)%>%
summarize(mn = mean(mn_val), min =mean(mn_val),max=max(mn_val), sd = sd(mn_val), hind = mean(mnVal_hind) )
save(endofCent,file="ESR_EBS/endofCent.Rdata")
save(midCent,file="ESR_EBS/midCent.Rdata")
endofCent[c(2,4),]
basinIN <- "NEBS"
source("D:/GitHub_cloud/ACLIM2/R/sub_scripts/plot_annualNEBS.R")
endofCent<-fut%>%ungroup()%>%filter(year>2079)%>%group_by(scen,basin, var)%>%
summarize(mn = mean(mn_val), min =mean(mn_val),max=max(mn_val), sd = sd(mn_val), hind = mean(mnVal_hind) )
midCent<-fut%>%ungroup()%>%filter(year>2039&year<2061)%>%group_by(scen,basin, var)%>%
summarize(mn = mean(mn_val), min =mean(mn_val),max=max(mn_val), sd = sd(mn_val), hind = mean(mnVal_hind) )
save(endofCent,file="ESR_EBS/endofCent_N.Rdata")
save(midCent,file="ESR_EBS/midCent_N.Rdata")
basinIN <- "SEBS"
source("D:/GitHub_cloud/ACLIM2/R/sub_scripts/plot_annualSEBS.R")
endofCent<-fut%>%ungroup()%>%filter(year>2079)%>%group_by(scen,basin, var)%>%
summarize(mn = mean(mn_val), min =mean(mn_val),max=max(mn_val), sd = sd(mn_val), hind = mean(mnVal_hind) )
midCent<-fut%>%ungroup()%>%filter(year>2039&year<2061)%>%group_by(scen,basin, var)%>%
summarize(mn = mean(mn_val), min =mean(mn_val),max=max(mn_val), sd = sd(mn_val), hind = mean(mnVal_hind) )
save(endofCent,file="ESR_EBS/endofCent.Rdata")
save(midCent,file="ESR_EBS/midCent.Rdata")
load(file="ESR_EBS/endofCent.Rdata")
load(file="ESR_EBS/midCent.Rdata")
load(file="ESR_EBS/endofCentN.Rdata")
load(file="ESR_EBS/midCentN.Rdata")
getwd()
load("ESR_EBS/endofCent.Rdata")
load("ESR_EBS/endofCent.Rdata")
load("ESR_EBS/midCent.Rdata")
load("ESR_EBS/endofCentN.Rdata")
load("ESR_EBS/midCentN.Rdata")
basinIN <- "NEBS"
source("D:/GitHub_cloud/ACLIM2/R/sub_scripts/plot_annualNEBS.R")
endofCentN<-fut%>%ungroup()%>%filter(year>2079)%>%group_by(scen,basin, var)%>%
summarize(mn = mean(mn_val), min =mean(mn_val),max=max(mn_val), sd = sd(mn_val), hind = mean(mnVal_hind) )
midCentN<-fut%>%ungroup()%>%filter(year>2039&year<2061)%>%group_by(scen,basin, var)%>%
summarize(mn = mean(mn_val), min =mean(mn_val),max=max(mn_val), sd = sd(mn_val), hind = mean(mnVal_hind) )
save(endofCentN,file="ESR_EBS/endofCent_N.Rdata")
save(midCentN,file="ESR_EBS/midCent_N.Rdata")
basinIN <- "SEBS"
source("D:/GitHub_cloud/ACLIM2/R/sub_scripts/plot_annualSEBS.R")
endofCent<-fut%>%ungroup()%>%filter(year>2079)%>%group_by(scen,basin, var)%>%
summarize(mn = mean(mn_val), min =mean(mn_val),max=max(mn_val), sd = sd(mn_val), hind = mean(mnVal_hind) )
midCent<-fut%>%ungroup()%>%filter(year>2039&year<2061)%>%group_by(scen,basin, var)%>%
summarize(mn = mean(mn_val), min =mean(mn_val),max=max(mn_val), sd = sd(mn_val), hind = mean(mnVal_hind) )
save(endofCent,file="ESR_EBS/endofCent.Rdata")
save(midCent,file="ESR_EBS/midCent.Rdata")
endofCent
endofCent%>%filter(var =="temp_bottom5m")%>%mutate(mn-hind)
endofCent%>%filter(var =="temp_bottom5m")%>%mutate(delta =round(mn-hind))
endofCent%>%filter(var =="temp_bottom5m")%>%mutate(delta =round(mn-hind))[1]
endofCent%>%filter(var =="temp_bottom5m")%>%mutate(delta =round(mn-hind),2)
endofCent%>%filter(var =="temp_bottom5m")%>%mutate(delta =round(mn-hind,2))
endofCent%>%filter(var =="temp_bottom5m")%>%mutate(delta =round(mn-hind,1))
endofCent%>%filter(var =="temp_bottom5m")%>%mutate(delta =round(max-hind,1))
endofCent%>%filter(var =="temp_bottom5m")%>%mutate(delta =round(min-hind,1))
endofCent%>%filter(var =="temp_bottom5m")%>%mutate(delta =round(max-hind,1))
endofCentN%>%filter(var =="temp_bottom5m")%>%mutate(delta =round(max-hind,1))
load("ESR_EBS/endofCent.Rdata")
load("ESR_EBS/midCent.Rdata")
load("ESR_EBS/endofCent_N.Rdata")
load("ESR_EBS/midCent_N.Rdata")
endofCentN
basinIN <- "NEBS"
source("D:/GitHub_cloud/ACLIM2/R/sub_scripts/plot_annualNEBS.R")
endofCentN<-fut%>%ungroup()%>%filter(year>2079)%>%group_by(scen,basin, var)%>%
summarize(mn = mean(mn_val), min =mean(mn_val),max=max(mn_val), sd = sd(mn_val), hind = mean(mnVal_hind) )
midCentN<-fut%>%ungroup()%>%filter(year>2039&year<2061)%>%group_by(scen,basin, var)%>%
summarize(mn = mean(mn_val), min =mean(mn_val),max=max(mn_val), sd = sd(mn_val), hind = mean(mnVal_hind) )
midCentN
fut
