tmstp  <- format(Sys.time(), "%Y_%m_%d")
main   <- getwd()  #"~/GitHub_new/ACLIM2"
# loads packages, data, setup, etc.
source("R/make.R")
# list of the scenario x GCM downscaled ACLIM indices
for(k in aclim)
cat(paste(k,"\n"))
# get some info about a scenario:
all_info1 <- info(model_list=aclim,type=1)
all_info2 <- info(model_list=aclim,type=2)
all_info1
all_info2
# variables in each of the two files:
srvy_vars
weekly_vars
#summary tables for variables
srvy_var_def
embargoed # not yet public or published
public    # published runs (CMIP5)
# get some info about a scenario:
all_info1 <- info(model_list=aclim,type=1)
all_info2 <- info(model_list=aclim,type=2)
all_info1
all_info2
# variables in each of the two files:
srvy_vars
weekly_vars
#summary tables for variables
srvy_var_def
station_info
# explore stations in the survey replicated data:
station_info
# first convert the station_info object into a shapefile for mapping:
station_sf         <- convert2shp(station_info)
station_sf$stratum <- factor(station_sf$stratum)
# plot the stations:
p <- plot_stations_basemap(sfIN = station_sf,fillIN = "subregion",colorIN = "subregion") +
scale_color_viridis_d(begin = .4,end=.6) +
scale_fill_viridis_d(begin = .4,end=.6)
p
p2 <- plot_stations_basemap(sfIN = station_sf,fillIN = "stratum",colorIN = "stratum") +
scale_color_viridis_d() +
scale_fill_viridis_d()
p2
# now create plots of average BT during four time periods
time_seg   <- list('2010-2020' = c(2010:2020),
'2021-2040' = c(2021:2040),
'2041-2060' = c(2041:2060),
'2061-2080' = c(2061:2080),
'2081-2099' = c(2081:2099))
# View an individual variable (e.g., Bottom Temp)
# -------------------------------------------------------
srvy_vars
aclim
sim <- aclim[2]
# open a "region" or strata specific nc file
ncfl      <- file.path(sim,paste0(srvy_txt,sim,".nc"))
nc        <- nc_open(file.path(data_path,ncfl))
# convert the nc files into a data.frame
tmp_var    <- convert2df(ncIN = nc, type = 2, varIN = "temp_bottom5m")
# variables in each of the two files:
srvy_vars
weekly_vars
#summary tables for variables
srvy_var_def
tmstp  <- format(Sys.time(), "%Y_%m_%d")
main   <- getwd()  #"~/GitHub_new/ACLIM2"
# loads packages, data, setup, etc.
source("R/make.R")
